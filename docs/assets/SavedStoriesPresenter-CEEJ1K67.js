function h(r,s,a,i){const t={_storyModel:r,_view:s,_router:a,_utils:i,async showSavedStories(){this._view.renderLoading();try{const e=await this._storyModel.getAllStoriesFromDb();this._view.renderSavedStories(e)}catch(e){console.error("SavedStoriesPresenter.showSavedStories error:",e),this._view.renderError(e.message||"Gagal memuat cerita dari database lokal.")}},async handleDeleteStory(e){try{await this._storyModel.deleteStoryFromDb(e),this._utils.showMessage("Sukses","Cerita berhasil dihapus dari database."),await this.showSavedStories()}catch{this._utils.showMessage("Error","Gagal menghapus cerita dari database.",!0)}},async handleDeleteAllStories(){try{await this._storyModel.clearStoriesCache(),this._utils.showMessage("Sukses","Semua cerita tersimpan berhasil dihapus."),await this.showSavedStories()}catch{this._utils.showMessage("Error","Gagal menghapus semua cerita dari database.",!0)}},destroy(){this._view&&typeof this._view.destroy=="function"&&this._view.destroy(),this._storyModel=null,this._view=null,this._router=null,this._utils=null,console.log("SavedStoriesPresenter instance dihancurkan.")}};return s.setPresenter(t),t}export{h as default};
